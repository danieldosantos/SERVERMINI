# Skill: Sopro Tranquilo (ULT)
name: monk_open_hand_tranquil_breath
display: "§2Sopro Tranquilo"
icon: TUBE_CORAL_FAN
type: Active
max-level: 1
attributes:
  cooldown-base: 210
  cooldown-scale: 0
description:
  - "§7Cria aura de 6 blocos por 10s concedendo -40% dano recebido a aliados."
  - "§2Cura 5% da vida máxima por segundo dentro da aura."
  - "§7Consome 3 Ki; não acumula com outras grandes reduções."
components:
  Cast:
    type: trigger
    data:
      cooldown: true
    children:
      KiRequirement:
        type: condition
        data:
          key: ki_points
          min-value: 3
          fail-message: "§cSão necessários 3 Ki para o Sopro Tranquilo."
        children:
          ConsumeKi:
            type: mechanic
            data:
              key: ki_points
              amount-base: 3
              indicator: "§2-3 Ki"
      Aura:
        type: target
        data:
          shape: sphere
          radius-base: 6
          radius-scale: 0
          group: ally
        children:
          ApplyResistance:
            type: mechanic
            data:
              potion: DAMAGE_RESISTANCE
              seconds-base: 10
              seconds-scale: 0
              amplifier-base: 1
              amplifier-scale: 0
          HealLoop:
            type: mechanic
            data:
              repeat: 10
              interval: 1
            children:
              HealPercent:
                type: mechanic
                data:
                  heal-percent-base: 0.05
                  heal-percent-scale: 0
                  indicator: "§2+5%"
          Message:
            type: mechanic
            data:
              message: "§2Você se abriga no Sopro Tranquilo (-40% dano)."
              targets: ally
      VFX:
        type: mechanic
        data:
          command: "mythicmobs signal monk_tranquil_breath @{location}"
          silent: true
