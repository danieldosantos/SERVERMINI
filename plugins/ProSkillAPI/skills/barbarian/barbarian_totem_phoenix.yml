# Skill: Totem da Fênix (Ultimate)
name: barbarian_totem_phoenix
display: "§cTotem da Fênix"
icon: BLAZE_ROD
type: Active
max-level: 1
attributes:
  cooldown-base: 240
  cooldown-scale: 0
  mana-cost-base: 35
  mana-cost-scale: 0
description:
  - "§7Aura de 8 blocos por 12s reduzindo em 20% o dano recebido."
  - "§eRevive aliados caídos com 40% da vida uma vez por aura. Consome 1 Rage."
components:
  Cast:
    type: trigger
    data:
      cooldown: true
    children:
      CheckRage:
        type: condition
        data:
          key: rage_stacks
          min-value: 1
          fail-message: "§cNecessita de Fúria acumulada."
        children:
          Spend:
            type: mechanic
            data:
              key: rage_stacks
              amount-base: 1
              indicator: "§6-1 Rage"
      Aura:
        type: mechanic
        data:
          repeat: 6
          interval: 2
        children:
          Allies:
            type: target
            data:
              group: ally
              radius-base: 8
            children:
              ApplyResistance:
                type: mechanic
                data:
                  potion: DAMAGE_RESISTANCE
                  seconds-base: 2.5
                  amplifier-base: 0
                  indicator: "§cChama Fênix"
      ReviveHook:
        type: mechanic
        data:
          command: "skript run barbarian_totem_phoenix %caster% 12 8"
          silent: true
      Message:
        type: mechanic
        data:
          message: "§cTotem da Fênix renova os guerreiros!"
          targets: self
